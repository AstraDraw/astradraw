# Astradraw - Self-hosted Excalidraw Configuration
# Copy this file to .env and fill in your values

# =============================================================================
# DOMAIN CONFIGURATION
# =============================================================================

# Your domain for Excalidraw (e.g., draw.example.com or IP address)
APP_DOMAIN=localhost

# Protocol to use (http or https)
# Use 'http' for local testing, 'https' for production with SSL
APP_PROTOCOL=http

# Email for Let's Encrypt certificates (uncomment when using HTTPS)
# ACME_EMAIL=your-email@example.com

# =============================================================================
# STORAGE BACKEND CONFIGURATION
# =============================================================================

# Storage backend type: 's3' (MinIO/S3) or 'keyv' (PostgreSQL/MongoDB)
# Recommended: s3 for blob storage (scenes, rooms, files)
STORAGE_BACKEND=s3

# =============================================================================
# S3/MINIO CONFIGURATION (when STORAGE_BACKEND=s3)
# =============================================================================

# S3 bucket name for storing scenes, rooms, and files
S3_BUCKET=excalidraw

# S3 region (can be any value for MinIO)
S3_REGION=us-east-1

# MinIO credentials are stored in secrets/ directory:
#   secrets/minio_access_key  - MinIO root user (e.g., "minioadmin")
#   secrets/minio_secret_key  - MinIO root password (min 8 characters)
#
# Create these files:
#   echo "minioadmin" > secrets/minio_access_key
#   openssl rand -base64 32 > secrets/minio_secret_key

# =============================================================================
# DATABASE CONFIGURATION (PostgreSQL)
# =============================================================================
# PostgreSQL is used for:
# - Keyv storage backend (when STORAGE_BACKEND=keyv)
# - Future: Comments system, user management

POSTGRES_USER=excalidraw
POSTGRES_PASSWORD=your_secure_postgres_password
POSTGRES_DB=excalidraw

# pgAdmin (database admin UI) - only used with --profile admin
PGADMIN_EMAIL=admin@example.com
PGADMIN_PASSWORD=your_admin_password

# =============================================================================
# DATABASE CONFIGURATION (MongoDB - alternative)
# =============================================================================
# To use MongoDB instead, uncomment below and update docker-compose.yml

# MONGO_USER=excalidraw
# MONGO_PASSWORD=your_secure_password_here
# MONGO_EXPRESS_USER=admin
# MONGO_EXPRESS_PASSWORD=your_admin_password_here

# =============================================================================
# OPTIONAL CONFIGURATION
# =============================================================================

# Storage backend log level (debug, verbose, log, warn, error)
# STORAGE_LOG_LEVEL=warn

# Maximum payload size for scenes/images
# STORAGE_BODY_LIMIT=50mb

