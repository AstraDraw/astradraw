---
name: Auth
overview: Integrate authenticated user profile data (name and avatar) into the collaboration system so signed-in users automatically use their profile name and picture instead of random/localStorage values.
todos: []
---

# Integrate

Authenticated User Profile into Collaboration

## Overview

When a user is signed in, the collaboration system should automatically use their profile name and avatar instead of a random name or localStorage value. This requires changes to:

1. Initialize username from user profile when authenticated
2. Add `avatarUrl` to socket broadcast messages
3. Update collaborator state with received avatar URLs

## Data Flow

```mermaid
sequenceDiagram
    participant Auth as AuthContext
    participant Collab as Collab.tsx
    participant Portal as Portal.tsx
    participant Socket as WebSocket
    participant Others as Other Clients
    
    Auth->>Collab: User authenticated (name, avatarUrl)
    Collab->>Collab: Set username from profile






```